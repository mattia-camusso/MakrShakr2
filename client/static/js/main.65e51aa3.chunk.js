(this.webpackJsonpclient_src=this.webpackJsonpclient_src||[]).push([[0],{20:function(e,t,a){},3:function(e,t,a){e.exports={container:"Reviews_container__1gXY7",title:"Reviews_title__2cB6z",score:"Reviews_score__2DL3J",reviews:"Reviews_reviews__3-Plk",item:"Reviews_item__1UiBH",buttons:"Reviews_buttons__2AAfi",input:"Reviews_input__1v3hL",label:"Reviews_label__2HGoR",body:"Reviews_body__3rbSr",details:"Reviews_details__fmEbj"}},6:function(e,t,a){e.exports={form:"Sign_form__3INpm",field:"Sign_field__3fOD5",input:"Sign_input__1tScL",title:"Sign_title__2yS_9"}},63:function(e,t,a){},64:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a(1),i=a(34),c=a.n(i),o=a(5),r=(a(20),a(2)),l=a(7),u=a(8),h=a(10),d=a(9),j=a(12),b=a.n(j),m=a(3),p=a.n(m),v=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={item:e.item},n}return Object(u.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("div",{className:p.a.item,children:[Object(n.jsx)(o.b,{to:"/reviews/".concat(this.state.item.id),className:"link",children:this.state.item.title}),Object(n.jsxs)("p",{children:[this.state.item.score,"/10"]})]})}}]),a}(s.Component),O=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this))._isMounted=!1,e.state={reviews:[]},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this._isMounted=!0,null!==sessionStorage.getItem("token")&&this.getReviews()}},{key:"getReviews",value:function(){var e=this;b.a.get("http://localhost:3000/api/reviews?access_token=".concat(sessionStorage.getItem("token"))).then((function(t){e._isMounted&&e.setState({reviews:t.data})})).catch((function(e){return console.log(e)}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this.state.reviews.map((function(e,t){return Object(n.jsx)(v,{item:e},e.id)}));return null===sessionStorage.getItem("token")?Object(n.jsx)(r.a,{to:"/signup"}):Object(n.jsxs)("div",{className:p.a.container,children:[Object(n.jsx)("h1",{className:p.a.title,children:"Reviews"}),Object(n.jsx)("div",{className:p.a.reviews,children:e}),Object(n.jsx)("div",{children:Object(n.jsx)(o.b,{to:"/reviews/add",className:"button",children:"Add Review"})})]})}}]),a}(s.Component),g=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e))._isMounted=!1,n.state={details:""},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this._isMounted=!0,this.getReview()}},{key:"getReview",value:function(){var e=this,t=this.props.match.params.id;b.a.get("http://localhost:3000/api/reviews/".concat(t,"?access_token=").concat(sessionStorage.getItem("token"))).then((function(t){e._isMounted&&e.setState({details:t.data})})).catch((function(e){return console.log(e)}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){return Object(n.jsxs)("div",{className:p.a.container,children:[Object(n.jsx)("h1",{className:p.a.title,children:this.state.details.title}),Object(n.jsx)("div",{className:p.a.details,children:Object(n.jsx)("p",{className:p.a.body,children:this.state.details.description})}),Object(n.jsxs)("h2",{className:p.a.score,children:[this.state.details.score,"/10"]}),Object(n.jsx)(o.b,{to:"/",className:"button",children:"Back"})]})}}]),a}(s.Component),f=a(18),x=a(13),_=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={title:"",description:"",score:0},n.handleChange=n.handleChange.bind(Object(x.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(x.a)(n)),n}return Object(u.a)(a,[{key:"handleChange",value:function(e){var t=e.target.name;this.setState(Object(f.a)({},t,e.target.value))}},{key:"handleSubmit",value:function(e){var t={title:this.state.title,description:this.state.description,score:this.state.score};this.addReview(t),e.preventDefault()}},{key:"addReview",value:function(e){var t=this;b.a.request({method:"post",url:"http://localhost:3000/api/reviews?access_token=".concat(sessionStorage.getItem("token")),data:e}).then((function(e){t.props.history.push("/")})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return Object(n.jsxs)("div",{className:p.a.container,children:[Object(n.jsx)("h1",{className:p.a.title,children:"Add Review"}),Object(n.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(n.jsx)("input",{name:"title",required:"required",placeholder:"Title",autoComplete:"off",className:p.a.input,value:this.state.title,onChange:this.handleChange}),Object(n.jsx)("textarea",{name:"description",placeholder:"Write here your review...",rows:"8",cols:"60",required:"required",className:p.a.input,value:this.state.description,onChange:this.handleChange}),Object(n.jsxs)("label",{htmlFor:"score",className:p.a.label,children:[Object(n.jsx)("p",{children:"Score"}),Object(n.jsx)("select",{name:"score",value:this.state.score,onChange:this.handleChange,children:Array.from(Array(11).keys()).map((function(e){return Object(n.jsx)("option",{value:e,children:e},e)}))})]}),Object(n.jsxs)("div",{className:p.a.buttons,children:[Object(n.jsx)("input",{type:"submit",value:"Save",className:"button"}),Object(n.jsx)(o.b,{to:"/",className:"button",children:"Back"})]})]})]})}}]),a}(s.Component),w=a(6),k=a.n(w),y=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={username:"",email:"",password:""},n.handleSubmit=n.handleSubmit.bind(Object(x.a)(n)),n.handleChange=n.handleChange.bind(Object(x.a)(n)),n}return Object(u.a)(a,[{key:"handleSubmit",value:function(e){var t={username:this.state.username,email:this.state.email,password:this.state.password};this.signUpUser(t),e.preventDefault()}},{key:"signUpUser",value:function(e){var t=this,a={email:this.state.email,password:this.state.password};b.a.request({method:"post",url:"http://localhost:3000/api/Users",data:e}).then((function(){t.loginUser(a)})).catch((function(e){return alert("User already exists")}))}},{key:"loginUser",value:function(e){var t=this;b.a.request({method:"post",url:"http://localhost:3000/api/Users/login",data:e}).then((function(e){sessionStorage.setItem("token",e.data.accessToken),t.props.history.push("/")})).catch((function(e){return console.log(e)}))}},{key:"handleChange",value:function(e){var t=e.target.name;this.setState(Object(f.a)({},t,e.target.value))}},{key:"render",value:function(){return Object(n.jsxs)("div",{className:k.a.form,children:[Object(n.jsx)("h1",{className:k.a.title,children:"Sign Up"}),Object(n.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(n.jsx)("div",{className:k.a.field,children:Object(n.jsx)("input",{type:"text",name:"username",required:"required",placeholder:"Username",className:k.a.input,autoComplete:"off",onChange:this.handleChange})}),Object(n.jsx)("div",{className:k.a.field,children:Object(n.jsx)("input",{type:"email",name:"email",required:"required",placeholder:"Email",className:k.a.input,autoComplete:"off",onChange:this.handleChange})}),Object(n.jsx)("div",{className:k.a.field,children:Object(n.jsx)("input",{type:"password",name:"password",required:"required",placeholder:"Password",className:k.a.input,autoComplete:"off",onChange:this.handleChange})}),Object(n.jsx)("input",{type:"submit",value:"Sign Up",className:"button"})]}),Object(n.jsxs)("p",{children:["Already have an account?"," ",Object(n.jsx)(o.b,{to:"/signin",className:"link",children:"Sign In"}),"instead"]})]})}}]),a}(s.Component),S=Object(r.g)(y),N=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={email:"",password:""},n.handleChange=n.handleChange.bind(Object(x.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(x.a)(n)),n}return Object(u.a)(a,[{key:"handleSubmit",value:function(e){var t={email:this.state.email,password:this.state.password};this.loginUser(t),e.preventDefault()}},{key:"loginUser",value:function(e){var t=this;b.a.request({method:"post",url:"http://localhost:3000/api/Users/login",data:e}).then((function(e){console.log(e.data.id),sessionStorage.setItem("token",e.data.accessToken),t.props.history.push("/")})).catch((function(e){return alert("Invalid username or password")}))}},{key:"handleChange",value:function(e){var t=e.target.name;this.setState(Object(f.a)({},t,e.target.value))}},{key:"render",value:function(){return Object(n.jsxs)("div",{className:k.a.form,children:[Object(n.jsx)("h1",{className:k.a.title,children:"Sign In"}),Object(n.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(n.jsx)("div",{className:k.a.field,children:Object(n.jsx)("input",{name:"email",type:"email",required:"required",placeholder:"Email",className:k.a.input,autoComplete:"off",onChange:this.handleChange})}),Object(n.jsx)("div",{className:k.a.field,children:Object(n.jsx)("input",{name:"password",type:"password",required:"required",placeholder:"Password",className:k.a.input,autoComplete:"off",onChange:this.handleChange})}),Object(n.jsx)("input",{type:"submit",value:"Sign In",className:"button"})]}),Object(n.jsxs)("p",{children:["Don't have an account?"," ",Object(n.jsx)(o.b,{to:"/signup",className:"link",children:"Sign Up"})," ","instead"]})]})}}]),a}(s.Component),C=Object(r.g)(N),R=(a(63),function(){return Object(n.jsx)("main",{children:Object(n.jsxs)(r.d,{children:[Object(n.jsx)(r.b,{exact:!0,path:"/signup",component:S}),Object(n.jsx)(r.b,{exact:!0,path:"/signin",component:C}),Object(n.jsx)(r.b,{exact:!0,path:"/",component:O}),Object(n.jsx)(r.b,{exact:!0,path:"/reviews/add",component:_}),Object(n.jsx)(r.b,{exact:!0,path:"/reviews/:id",component:g})]})})}),U=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleLogOut=n.handleLogOut.bind(Object(x.a)(n)),n}return Object(u.a)(a,[{key:"handleLogOut",value:function(){b.a.request({method:"post",url:"http://localhost:3000/api/Users/logout?access_token=".concat(sessionStorage.getItem("token"))}).catch((function(e){return console.log(e)})),sessionStorage.clear(),this.props.history.push("/")}},{key:"render",value:function(){var e;return null!==sessionStorage.getItem("token")&&(e=Object(n.jsx)("div",{className:"logout",children:Object(n.jsx)("button",{onClick:this.handleLogOut,className:"button",children:"Log Out"})})),Object(n.jsxs)("div",{className:"nav",children:[Object(n.jsx)(o.b,{to:"/",className:"logo",children:"Moviegram"}),e]})}}]),a}(s.Component),q=Object(r.g)(U),I=function(){return Object(n.jsxs)("div",{className:"app",children:[Object(n.jsx)(q,{}),Object(n.jsx)("div",{className:"maincontainer",children:Object(n.jsx)(R,{})})]})},M=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,65)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,i=t.getLCP,c=t.getTTFB;a(e),n(e),s(e),i(e),c(e)}))};c.a.render(Object(n.jsx)(o.a,{children:Object(n.jsx)(I,{})}),document.getElementById("root")),M()}},[[64,1,2]]]);
//# sourceMappingURL=main.65e51aa3.chunk.js.map